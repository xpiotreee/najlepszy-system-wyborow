<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<BorderPane maxHeight="Infinity" maxWidth="Infinity" styleClass="background" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="pl.teamzwyciezcow.najlepszysystemwyborow.controllers.user.profile.ProfileController">
    <top>
        <VBox styleClass="small-hero-section" alignment="CENTER">
            <Text styleClass="hero-title" text="Twój Profil" />
        </VBox>
    </top>
    <center>
        <VBox alignment="TOP_CENTER" spacing="30.0" style="-fx-padding: 30;">
            <VBox maxWidth="1000" spacing="30" styleClass="content-container">
                
                <!-- Profile Info Section -->
                <VBox spacing="10">
                    <Label text="Dane Użytkownika" styleClass="section-label"/>
                    <VBox styleClass="candidate-card" spacing="15">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>
                        
                        <HBox spacing="20">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Imię i Nazwisko" styleClass="label-bold"/>
                                <TextField fx:id="fullNameField" styleClass="blur_field" disable="true"/>
                            </VBox>
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Email" styleClass="label-bold"/>
                                <TextField fx:id="emailField" styleClass="blur_field" disable="true"/>
                            </VBox>
                        </HBox>

                        <HBox spacing="20">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="PESEL" styleClass="label-bold"/>
                                <TextField fx:id="peselField" styleClass="blur_field" disable="true"/>
                            </VBox>
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Hasło (zostaw puste aby nie zmieniać)" styleClass="label-bold"/>
                                <PasswordField fx:id="passwordField" styleClass="blur_field" disable="true"/>
                            </VBox>
                        </HBox>
                        
                        <HBox alignment="CENTER_RIGHT" spacing="10">
                            <Button fx:id="editButton" text="EDYTUJ" styleClass="guzik" onAction="#handleEditToggle"/>
                            <Button fx:id="saveButton" text="ZAPISZ" styleClass="button-submit" onAction="#handleSave" visible="false" managed="false"/>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Votes History Section -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <Label text="Historia Głosowania" styleClass="section-label"/>
                    <VBox styleClass="candidate-card" VBox.vgrow="ALWAYS">
                        <TableView fx:id="votesTable" prefHeight="300.0" styleClass="tabelkal">
                            <columns>
                                <TableColumn fx:id="electionColumn" text="Wybory" prefWidth="300"/>
                                <TableColumn fx:id="candidateColumn" text="Kandydat" prefWidth="300"/>
                                <TableColumn fx:id="actionColumn" text="Akcje" prefWidth="100"/>
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </VBox>
                </VBox>

            </VBox>
        </VBox>
    </center>
</BorderPane>