<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="pl.teamzwyciezcow.najlepszysystemwyborow.controllers.admin.elections.CreateController">
    <VBox spacing="20" styleClass="main-container">
        <Label fx:id="headerLabel" styleClass="header-label" text="Nowe Głosowanie" />

        <GridPane hgap="15" vgap="15">
            <columnConstraints>
                <ColumnConstraints minWidth="120.0" prefWidth="150.0" />
                <ColumnConstraints hgrow="ALWAYS" />
            </columnConstraints>

            <Label text="Nazwa (wymagane):" GridPane.rowIndex="0" />
            <TextField fx:id="nazwaField" promptText="Maks. 255 znaków" styleClass="blur_field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

            <Label text="Opis:" GridPane.rowIndex="1" />
            <TextArea fx:id="opisArea" prefHeight="100" promptText="Maks. 2000 znaków" styleClass="blur_field" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="1" />

            <Label text="Od kiedy:" GridPane.rowIndex="2" />
            <DatePicker fx:id="dataOdPicker" maxWidth="Infinity" styleClass="blur_field" GridPane.columnIndex="1" GridPane.rowIndex="2">
<!--            <GridPane.margin>-->
<!--               <Insets />-->
<!--            </GridPane.margin>-->
            <padding>
               <Insets left="10.0" />
            </padding>
            </DatePicker>

            <Label text="Do kiedy:" GridPane.rowIndex="3" />
            <DatePicker fx:id="dataDoPicker" maxWidth="Infinity" styleClass="blur_field" GridPane.columnIndex="1" GridPane.rowIndex="3">
            <GridPane.margin>
               <Insets />
            </GridPane.margin>
            <padding>
               <Insets left="10.0" />
            </padding></DatePicker>

            <Label text="Widoczność głosów:" GridPane.rowIndex="4" />
            <ComboBox fx:id="widocznoscCombo" maxWidth="Infinity" styleClass="blur_field" GridPane.columnIndex="1" GridPane.rowIndex="4">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Zawsze" />
                        <String fx:value="Po zagłosowaniu" />
                        <String fx:value="Po zakończeniu wyborów" />
                    </FXCollections>
                </items>
            </ComboBox>

            <Label text="Typ wyborów:" GridPane.rowIndex="5" />
            <ComboBox fx:id="typeCombo" maxWidth="Infinity" styleClass="blur_field" GridPane.columnIndex="1" GridPane.rowIndex="5" />

            <Label text="Max wyborów (dla wielokrotnego):" GridPane.rowIndex="6" />
            <TextField fx:id="maxChoicesField" styleClass="blur_field" text="1" GridPane.columnIndex="1" GridPane.rowIndex="6" />
         <rowConstraints>
            <RowConstraints />
            <RowConstraints />
            <RowConstraints maxHeight="35.99999389648437" minHeight="22.40001831054687" prefHeight="23.20000610351562" />
            <RowConstraints maxHeight="28.79998168945312" minHeight="15.20000610351562" prefHeight="26.399993896484375" />
            <RowConstraints maxHeight="32.79998168945315" minHeight="25.600000000000023" prefHeight="27.200006103515648" />
         </rowConstraints>
         <opaqueInsets>
            <Insets />
         </opaqueInsets>
        </GridPane>

        <Separator />

        <Label styleClass="section-label" text="Kandydaci" />

        <HBox spacing="10">
            <ComboBox fx:id="kandydatSearchCombo" maxWidth="Infinity" promptText="Wyszukaj i dodaj istniejącego kandydata..." styleClass="blur_field" HBox.hgrow="ALWAYS" />
            <Button onAction="#handleDodajKandydataZListy" styleClass="button-secondary" text="Dodaj" />
        </HBox>

        <VBox fx:id="listaKandydatowBox" spacing="5" styleClass="kandydaci-lista" />

        <VBox spacing="10" styleClass="create-kandydat-pane">
            <Label styleClass="kolorek" text="Utwórz nowego kandydata" />
            <TextField fx:id="nowyKandydatNazwa" promptText="Nazwa kandydata (wymagane)" styleClass="blur_field kolorek" />
            <TextField fx:id="nowyKandydatOpis" promptText="Opis kandydata (opcjonalnie)" styleClass="blur_field kolorek" />
            <Button onAction="#handleUtworzKandydata" styleClass="button-primary" text="Utwórz i dodaj kandydata" />
        </VBox>

        <Button fx:id="submitButton" maxWidth="Infinity" onAction="#handleZapiszFormularz" styleClass="button-submit" text="ZAPISZ FORMULARZ" />
    </VBox>
</ScrollPane>
